<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guía Maestra de Desarrollo Web Profesional</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Poppins:wght@400;600;700&display=swap"
        rel="stylesheet">

    <!-- Tailwind Config for MM Digital Brand -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2A3E6B',
                        'primary-dark': '#0E1E40',
                        accent: '#4E72FF',
                        'accent-light': '#BED3FF',
                        success: '#00C896',
                        'success-hover': '#00A67E',
                        'text-main': '#D1D9EB',
                        'bg-light': '#F7F9FC',
                    },
                    fontFamily: {
                        sans: ['Lato', 'sans-serif'],
                        heading: ['Poppins', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            --bg-color: #F7F9FC;
            --sidebar-bg: #0E1E40;
            --text-primary: #334155;
            --accent-color: #4E72FF;
        }

        body {
            font-family: 'Lato', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: 'Poppins', sans-serif;
        }

        /* Chart Container Styling Rules - Mandatory */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        .hidden-section {
            display: none;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>

<body class="flex flex-col h-screen overflow-hidden">

    <!-- Top Navigation Bar -->
    <header class="w-full bg-white border-b border-gray-200 h-16 flex items-center justify-between px-6 z-20 shadow-sm">
        <a href="index.html" class="flex items-center gap-3 hover:opacity-90 transition-opacity">
            <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white font-bold">MM</div>
            <h1 class="text-xl font-bold tracking-tight text-primary-dark font-heading">MM Digital <span
                    class="text-accent">Guía del Santuario</span></h1>
        </a>
        <div class="hidden md:flex items-center gap-4 text-sm text-slate-500">
            <span>Progreso de Lectura:</span>
            <div class="w-32 h-2 bg-gray-200 rounded-full overflow-hidden">
                <div id="progressBar" class="h-full bg-success w-0 transition-all duration-500"></div>
            </div>
            <span id="progressText">0%</span>
        </div>
        <button id="mobileMenuBtn" class="md:hidden text-2xl text-slate-600">&#9776;</button>
    </header>

    <div class="flex flex-1 overflow-hidden">
        <!-- Sidebar Navigation -->
        <aside id="sidebar"
            class="bg-primary-dark border-r border-gray-800 w-64 flex-shrink-0 flex flex-col transition-transform transform -translate-x-full md:translate-x-0 absolute md:relative z-10 h-full text-gray-300">
            <div class="p-6">
                <p class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4">Etapas del Desarrollo</p>
                <nav class="space-y-1">
                    <button onclick="navigateTo('intro')"
                        class="nav-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium bg-primary text-white transition-colors flex items-center gap-2"
                        data-target="intro">
                        <span>&#8962;</span> Visión General
                    </button>
                    <button onclick="navigateTo('investigation')"
                        class="nav-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-400 hover:bg-white/10 hover:text-white transition-colors flex items-center gap-2"
                        data-target="investigation">
                        <span>&#128269;</span> 1. Diagnóstico y Propósito
                    </button>
                    <button onclick="navigateTo('structure')"
                        class="nav-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-400 hover:bg-white/10 hover:text-white transition-colors flex items-center gap-2"
                        data-target="structure">
                        <span>&#128009;</span> 2. El Plano (Estructura)
                    </button>
                    <button onclick="navigateTo('styling')"
                        class="nav-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-400 hover:bg-white/10 hover:text-white transition-colors flex items-center gap-2"
                        data-target="styling">
                        <span>&#127912;</span> 3. Narrativa Visual
                    </button>
                    <button onclick="navigateTo('logic')"
                        class="nav-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-400 hover:bg-white/10 hover:text-white transition-colors flex items-center gap-2"
                        data-target="logic">
                        <span>&#9881;</span> 4. Interacción
                    </button>
                    <button onclick="navigateTo('optimization')"
                        class="nav-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-400 hover:bg-white/10 hover:text-white transition-colors flex items-center gap-2"
                        data-target="optimization">
                        <span>&#128640;</span> 5. Experiencia Sostenible
                    </button>
                    <button onclick="navigateTo('deploy')"
                        class="nav-btn w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-400 hover:bg-white/10 hover:text-white transition-colors flex items-center gap-2"
                        data-target="deploy">
                        <span>&#127760;</span> 6. Apertura al Mundo
                    </button>
                </nav>
            </div>
            <div class="mt-auto p-6 border-t border-gray-800">
                <div class="bg-primary p-4 rounded-lg shadow-sm border border-gray-700">
                    <p class="text-xs text-gray-300 mb-2 font-semibold">Estado del Proyecto</p>
                    <div class="flex items-center gap-2">
                        <div class="w-3 h-3 rounded-full bg-success"></div>
                        <span class="text-xs text-white">En Progreso</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="flex-1 overflow-y-auto bg-bg-light p-4 md:p-8 lg:p-12 scroll-smooth" id="mainContent">

            <!-- SECTION: INTRO -->
            <section id="intro" class="content-section max-w-4xl mx-auto animate-fade-in">
                <div class="mb-8 border-b pb-6 border-slate-200">
                    <span class="text-accent font-bold text-sm tracking-wide uppercase">Identidad Digital</span>
                    <h2 class="text-4xl md:text-5xl font-bold text-primary-dark mt-2 mb-4">Construyendo tu Santuario
                        Digital</h2>
                    <p class="text-lg text-slate-600 leading-relaxed">Más que una web,
                        creamos un espacio de conexión. Cada línea de código es un ladrillo en la construcción de tu
                        Identidad Digital. Esta guía te llevará desde el propósito inicial hasta la materialización de
                        tu visión en el mundo digital. </p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                        <h3 class="text-xl font-semibold mb-4 text-slate-800">El Proceso de Creación</h3>
                        <p class="text-sm text-slate-500 mb-4">No improvisamos. Diseñamos con intención. La mayor parte
                            del éxito reside en la estrategia y el diseño de la identidad.</p>
                        <div class="chart-container"><canvas id="lifecycleChart"></canvas></div>
                    </div>
                    <div class="space-y-6">
                        <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                            <h3 class="text-lg font-bold text-primary mb-2">Pilares del Santuario</h3>
                            <ul class="space-y-3 text-slate-700 text-sm">
                                <li class="flex items-start gap-2"><span class="text-success font-bold">&#10003;
                                    </span>Definir Propósito y Valores (La Base). </li>
                                <li class="flex items-start gap-2"><span class="text-success font-bold">&#10003;
                                    </span>Estructurar la Narrativa (El Plano). </li>
                                <li class="flex items-start gap-2"><span class="text-success font-bold">&#10003;
                                    </span>Diseñar la Estética Visual (La Fachada). </li>
                                <li class="flex items-start gap-2"><span class="text-success font-bold">&#10003;
                                    </span>Optimizar la Experiencia (La Hospitalidad). </li>
                            </ul>
                        </div><button onclick="navigateTo('investigation')"
                            class="w-full bg-success text-white py-4 px-6 rounded-lg font-semibold hover:bg-success-hover transition-transform transform hover:scale-[1.02] shadow-lg flex justify-between items-center">Comenzar
                            el Recorrido <span class="text-xl">&#8594;
                            </span></button>
                    </div>
                </div>
            </section>

            <!-- SECTION 1: INVESTIGATION -->
            <section id="investigation" class="content-section max-w-4xl mx-auto hidden-section">
                <div class="mb-6">
                    <span class="bg-slate-100 text-slate-600 px-3 py-1 rounded-full text-xs font-bold uppercase">Paso
                        1</span>
                    <h2 class="text-3xl font-bold text-slate-800 mt-3">Diagnóstico y Propósito</h2>
                    <p class="mt-4 text-slate-600">Todo Santuario comienza con una intención. Antes de la tecnología,
                        definimos la identidad. ¿Qué valores quieres transmitir? ¿A quién quieres invitar a tu espacio?
                    </p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                        <h3 class="text-lg font-semibold mb-2">¿Por qué "Mobile First" ?</h3>
                        <p class="text-sm text-slate-500 mb-4">La tendencia global de tráfico web justifica por qué
                            empezamos diseñando para pantallas pequeñas.</p>
                        <div class="chart-container"><canvas id="mobileTrendChart"></canvas></div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                        <h3 class="text-lg font-semibold mb-4">Checklist de Identidad</h3>
                        <div class="space-y-3" id="checklist-investigation"><!-- Items populated by JS --></div>
                    </div>
                </div>
                <div class="bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg">
                    <h4 class="font-bold text-amber-800 text-sm uppercase mb-1">Decisión Técnica</h4>
                    <p class="text-sm text-amber-900">Basado en la investigación,
                        definimos el Stack: HTML5 Semántico para estructura,
                        CSS (Grid/Flex) para layout,
                        y JS ES6+para lógica. Evitaremos librerías pesadas innecesarias. </p>
                </div>
                <div class="mt-8 flex justify-end"><button onclick="navigateTo('structure')"
                        class="bg-success text-white py-2 px-6 rounded-lg font-medium hover:bg-success-hover transition-colors">Siguiente:
                        Estructura HTML &#8594;
                    </button></div>
            </section>

            <!-- SECTION 2: STRUCTURE -->
            <section id="structure" class="content-section max-w-4xl mx-auto hidden-section">
                <div class="mb-6">
                    <span class="bg-slate-100 text-slate-600 px-3 py-1 rounded-full text-xs font-bold uppercase">Paso
                        2</span>
                    <h2 class="text-3xl font-bold text-slate-800 mt-3">El Plano del Santuario (HTML5)</h2>
                    <p class="mt-4 text-slate-600">La estructura semántica es el esqueleto de tu identidad digital. Cada
                        etiqueta (Header, Main, Footer) tiene un propósito, igual que las habitaciones de un hogar.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-10">
                    <div class="space-y-4">
                        <div
                            class="bg-slate-800 rounded-lg p-4 font-mono text-sm text-green-400 shadow-xl overflow-x-auto">
                            <pre>&lt;body&gt;
  <span class="text-pink-400">&lt;header&gt;</span>
    &lt;nav&gt;...&lt;/nav&gt;
  <span class="text-pink-400">&lt;/header&gt;</span>
  <span class="text-pink-400">&lt;main&gt;</span>
    &lt;section&gt;
      &lt;h1&gt;Título&lt;/h1&gt;
      &lt;article&gt;...&lt;/article&gt;
    &lt;/section&gt;
  <span class="text-pink-400">&lt;/main&gt;</span>
  <span class="text-pink-400">&lt;footer&gt;</span>
    &lt;small&gt;Copyright&lt;/small&gt;
  <span class="text-pink-400">&lt;/footer&gt;</span>
&lt;/body&gt;</pre>
                        </div>
                        <p class="text-xs text-slate-500 italic">Estructura correcta vs "Sopa de Divs"</p>
                    </div>

                    <!-- Visual HTML Map (No SVG, using CSS Grid) -->
                    <div class="border-2 border-dashed border-slate-300 p-4 rounded-xl bg-slate-50">
                        <h3 class="text-center text-sm font-bold text-slate-400 mb-2 uppercase">Layout Semántico Visual
                        </h3>
                        <div class="grid grid-cols-4 gap-2 h-64 text-center text-xs font-bold text-slate-600">
                            <div
                                class="col-span-4 bg-orange-100 border border-orange-200 rounded flex items-center justify-center h-12">
                                HEADER / NAV</div>
                            <div
                                class="col-span-3 bg-blue-100 border border-blue-200 rounded flex flex-col justify-center items-center p-2">
                                MAIN
                                <div
                                    class="w-full h-8 bg-blue-50 border border-blue-100 mt-1 rounded flex items-center justify-center text-[10px]">
                                    SECTION</div>
                                <div
                                    class="w-full h-16 bg-blue-50 border border-blue-100 mt-1 rounded flex items-center justify-center text-[10px]">
                                    ARTICLE</div>
                            </div>
                            <div
                                class="col-span-1 bg-purple-100 border border-purple-200 rounded flex items-center justify-center writing-vertical">
                                ASIDE</div>
                            <div
                                class="col-span-4 bg-slate-200 border border-slate-300 rounded flex items-center justify-center h-10">
                                FOOTER</div>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h3 class="text-lg font-semibold mb-4">Etiquetas Esenciales y su Impacto</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left text-slate-600">
                            <thead class="text-xs text-slate-700 uppercase bg-slate-50">
                                <tr>
                                    <th class="px-6 py-3">Etiqueta</th>
                                    <th class="px-6 py-3">Función</th>
                                    <th class="px-6 py-3">Impacto SEO/Accesibilidad</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="bg-white border-b">
                                    <td class="px-6 py-4 font-mono text-accent">&lt;main&gt;</td>
                                    <td class="px-6 py-4">Contenido principal único</td>
                                    <td class="px-6 py-4">Permite a lectores saltar navegación.</td>
                                </tr>
                                <tr class="bg-white border-b">
                                    <td class="px-6 py-4 font-mono text-accent">&lt;h1&gt;...&lt;h6&gt;</td>
                                    <td class="px-6 py-4">Jerarquía de títulos</td>
                                    <td class="px-6 py-4">Define la estructura lógica del documento.</td>
                                </tr>
                                <tr class="bg-white">
                                    <td class="px-6 py-4 font-mono text-accent">&lt;img alt="..." &gt;</td>
                                    <td class="px-6 py-4">Descripción de imagen</td>
                                    <td class="px-6 py-4">Crucial si la imagen no carga o para invidentes.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="mt-8 flex justify-between">
                    <button onclick="navigateTo('investigation')"
                        class="text-slate-500 hover:text-slate-800 font-medium">&#8592; Anterior</button>
                    <button onclick="navigateTo('styling')"
                        class="bg-success text-white py-2 px-6 rounded-lg font-medium hover:bg-success-hover transition-colors">Siguiente:
                        Estilo y UI &#8594;</button>
                </div>
            </section>

            <!-- SECTION 3: STYLING -->
            <section id="styling" class="content-section max-w-4xl mx-auto hidden-section">
                <div class="mb-6">
                    <span class="bg-slate-100 text-slate-600 px-3 py-1 rounded-full text-xs font-bold uppercase">Paso
                        3</span>
                    <h2 class="text-3xl font-bold text-slate-800 mt-3">Narrativa Visual (CSS)</h2>
                    <p class="mt-4 text-slate-600">El diseño no es solo decoración, es comunicación. Usamos colores,
                        tipografías y espacios para contar tu historia y evocar emociones. Tu identidad visual cobra
                        vida aquí.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <!-- Interactive Demo -->
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                        <h3 class="text-lg font-semibold mb-4">La Caja Flexible (Flexbox)</h3>
                        <p class="text-sm text-slate-500 mb-4">Experimenta cómo una línea de código CSS cambia la
                            distribución.</p>
                        <div class="mb-4 space-x-2">
                            <button onclick="setFlexDemo('row')"
                                class="px-3 py-1 text-xs bg-slate-200 rounded hover:bg-slate-300">Row</button>
                            <button onclick="setFlexDemo('column')"
                                class="px-3 py-1 text-xs bg-slate-200 rounded hover:bg-slate-300">Column</button>
                            <button onclick="setFlexDemo('wrap')"
                                class="px-3 py-1 text-xs bg-slate-200 rounded hover:bg-slate-300">Wrap</button>
                            <button onclick="setFlexDemo('center')"
                                class="px-3 py-1 text-xs bg-slate-200 rounded hover:bg-slate-300">Justify
                                Center</button>
                        </div>
                        <div id="flexContainer"
                            class="bg-slate-100 p-4 rounded border border-slate-300 h-48 flex gap-2 transition-all duration-500">
                            <div
                                class="w-12 h-12 bg-primary rounded text-white flex items-center justify-center font-bold">
                                1</div>
                            <div
                                class="w-12 h-12 bg-primary-dark rounded text-white flex items-center justify-center font-bold">
                                2</div>
                            <div
                                class="w-12 h-12 bg-accent rounded text-white flex items-center justify-center font-bold">
                                3</div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                        <h3 class="text-lg font-semibold mb-4">Uso de CSS Frameworks</h3>
                        <p class="text-sm text-slate-500 mb-4">Tailwind CSS (usado en esta guía) permite prototipar
                            rápido sin salir del HTML.</p>
                        <div class="chart-container">
                            <div id="cssFrameworkChart" class="w-full h-full"></div> <!-- Plotly Chart -->
                        </div>
                    </div>
                </div>

                <div class="bg-teal-50 p-4 rounded-lg border border-teal-100">
                    <h4 class="font-bold text-teal-800 text-sm mb-2">Tipografía Profesional</h4>
                    <p class="text-sm text-slate-700 mb-2">El 95% de la web es tipografía. Sigue estas reglas:</p>
                    <ul class="list-disc list-inside text-sm text-slate-600 space-y-1">
                        <li>Limita el ancho de línea a 60-75 caracteres (para legibilidad).</li>
                        <li>Usa una escala modular para tamaños de fuente (rem).</li>
                        <li>Asegura suficiente contraste (ratio 4.5:1 mínimo).</li>
                    </ul>
                </div>

                <div class="mt-8 flex justify-between">
                    <button onclick="navigateTo('structure')"
                        class="text-slate-500 hover:text-slate-800 font-medium">&#8592; Anterior</button>
                    <button onclick="navigateTo('logic')"
                        class="bg-success text-white py-2 px-6 rounded-lg font-medium hover:bg-success-hover transition-colors">Siguiente:
                        Lógica JS &#8594;</button>
                </div>
            </section>

            <!-- SECTION 4: LOGIC -->
            <section id="logic" class="content-section max-w-4xl mx-auto hidden-section">
                <div class="mb-6">
                    <span class="bg-slate-100 text-slate-600 px-3 py-1 rounded-full text-xs font-bold uppercase">Paso
                        4</span>
                    <h2 class="text-3xl font-bold text-slate-800 mt-3">Interacción y Conexión (JS)</h2>
                    <p class="mt-4 text-slate-600">Un Santuario Digital responde a sus visitantes. La interactividad
                        (JavaScript) crea diálogos y experiencias dinámicas, haciendo que el usuario se sienta escuchado
                        y atendido.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                        <h3 class="text-lg font-semibold mb-2">El DOM (Document Object Model)</h3>
                        <p class="text-sm text-slate-500 mb-4">Interactúa con los elementos. Haz clic para cambiar el
                            estado de este elemento visual.</p>
                        <div id="interactiveBox"
                            class="w-full h-32 bg-slate-100 rounded-lg flex items-center justify-center cursor-pointer transition-all duration-300 border-2 border-dashed border-slate-300 hover:border-accent"
                            onclick="toggleBoxState()">
                            <span class="text-slate-500 font-medium select-none">Click Me</span>
                        </div>
                        <p class="text-xs text-slate-400 mt-2 text-center">Estado actual: <span
                                id="boxStateText">Inactivo</span></p>
                    </div>

                    <div class="space-y-4">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                            <h3 class="text-lg font-semibold mb-2">Buenas Prácticas JS</h3>
                            <ul class="space-y-2 text-sm text-slate-600">
                                <li class="flex items-center gap-2"><span
                                        class="w-2 h-2 bg-red-500 rounded-full"></span><span>Evita `var`, usa `const` y
                                        `let`.</span></li>
                                <li class="flex items-center gap-2"><span
                                        class="w-2 h-2 bg-yellow-500 rounded-full"></span><span>Funciones pequeñas y de
                                        una sola responsabilidad.</span></li>
                                <li class="flex items-center gap-2"><span
                                        class="w-2 h-2 bg-green-500 rounded-full"></span><span>Usa `Event Delegation`
                                        para rendimiento.</span></li>
                            </ul>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg text-xs font-mono text-green-400 overflow-x-auto">
                            // Ejemplo asíncrono moderno<br>
                            const getData = async () => {<br>
                            &nbsp;&nbsp;try {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;const res = await fetch('/api/data');<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;const json = await res.json();<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;render(json);<br>
                            &nbsp;&nbsp;} catch (error) {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;console.error(error);<br>
                            &nbsp;&nbsp;}<br>
                            };
                        </div>
                    </div>
                </div>

                <div class="mt-8 flex justify-between">
                    <button onclick="navigateTo('styling')"
                        class="text-slate-500 hover:text-slate-800 font-medium">&#8592; Anterior</button>
                    <button onclick="navigateTo('optimization')"
                        class="bg-success text-white py-2 px-6 rounded-lg font-medium hover:bg-success-hover transition-colors">Siguiente:
                        Optimización &#8594;</button>
                </div>
            </section>

            <!-- SECTION 5: OPTIMIZATION -->
            <section id="optimization" class="content-section max-w-4xl mx-auto hidden-section">
                <div class="mb-6">
                    <span class="bg-slate-100 text-slate-600 px-3 py-1 rounded-full text-xs font-bold uppercase">Paso
                        5</span>
                    <h2 class="text-3xl font-bold text-slate-800 mt-3">Experiencia y Sostenibilidad</h2>
                    <p class="mt-4 text-slate-600">Un buen anfitrión no hace esperar a sus invitados. La optimización
                        asegura que tu Santuario sea accesible, rápido y respetuoso con el tiempo de tus usuarios.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                        <h3 class="text-lg font-semibold mb-2">Core Web Vitals</h3>
                        <p class="text-sm text-slate-500 mb-4">Métricas objetivo para pasar la auditoría de Google
                            (Lighthouse).</p>
                        <div class="chart-container">
                            <canvas id="vitalsChart"></canvas>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                            <h3 class="text-lg font-semibold mb-4">Checklist de Optimización</h3>
                            <div class="space-y-3" id="checklist-optimization">
                                <!-- JS Populated -->
                            </div>
                        </div>
                        <div class="bg-blue-50 p-4 rounded-lg border border-blue-100">
                            <h4 class="font-bold text-blue-800 text-sm">¿Sabías qué?</h4>
                            <p class="text-xs text-blue-900 mt-1">Las imágenes son las culpables #1 de la lentitud. Usa
                                formatos modernos como <strong>WebP</strong> o <strong>AVIF</strong> y siempre
                                especifica `width` y `height` en el HTML para evitar saltos de contenido (CLS).</p>
                        </div>
                    </div>
                </div>

                <div class="mt-8 flex justify-between">
                    <button onclick="navigateTo('logic')"
                        class="text-slate-500 hover:text-slate-800 font-medium">&#8592; Anterior</button>
                    <button onclick="navigateTo('deploy')"
                        class="bg-success text-white py-2 px-6 rounded-lg font-medium hover:bg-success-hover transition-colors">Siguiente:
                        Despliegue &#8594;</button>
                </div>
            </section>

            <!-- SECTION 6: DEPLOY -->
            <section id="deploy" class="content-section max-w-4xl mx-auto hidden-section">
                <div class="mb-6">
                    <span class="bg-slate-100 text-slate-600 px-3 py-1 rounded-full text-xs font-bold uppercase">Paso
                        6</span>
                    <h2 class="text-3xl font-bold text-slate-800 mt-3">Apertura al Mundo</h2>
                    <p class="mt-4 text-slate-600">Es el momento de abrir las puertas. Tu Identidad Digital pasa de ser
                        un proyecto local a una realidad global, lista para recibir y transformar a tus visitantes.</p>
                </div>

                <div class="grid grid-cols-1 gap-8 mb-8">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                        <h3 class="text-lg font-semibold mb-4">El Pipeline de Entrega Continua</h3>
                        <div class="flex flex-col md:flex-row items-center justify-between gap-4 text-center">
                            <div class="flex-1 p-4 bg-slate-50 rounded border border-slate-200 w-full">
                                <div class="text-2xl mb-2">&#128187;</div>
                                <h4 class="font-bold text-slate-700 text-sm">Local</h4>
                                <p class="text-xs text-slate-500">Desarrollo en VS Code + Git Commit</p>
                            </div>
                            <div class="text-slate-300 text-2xl hidden md:block">&#8594;</div>
                            <div class="text-slate-300 text-2xl md:hidden">&#8595;</div>
                            <div class="flex-1 p-4 bg-slate-50 rounded border border-slate-200 w-full">
                                <div class="text-2xl mb-2">&#128230;</div>
                                <h4 class="font-bold text-slate-700 text-sm">Repositorio</h4>
                                <p class="text-xs text-slate-500">GitHub / GitLab. Trigger de Build.</p>
                            </div>
                            <div class="text-slate-300 text-2xl hidden md:block">&#8594;</div>
                            <div class="text-slate-300 text-2xl md:hidden">&#8595;</div>
                            <div class="flex-1 p-4 bg-blue-50 rounded border border-blue-200 w-full">
                                <div class="text-2xl mb-2">&#127760;</div>
                                <h4 class="font-bold text-primary text-sm">Producción</h4>
                                <p class="text-xs text-primary-dark">Netlify/Vercel/AWS. CDN Global.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-8 rounded-xl shadow-lg border border-teal-100 text-center">
                    <h3 class="text-2xl font-bold text-primary mb-4">¡Tu Santuario está Vivo!</h3>
                    <p class="text-slate-600 mb-6">Has completado el recorrido. Ahora tienes las herramientas para
                        construir una identidad digital sólida, funcional y hermosa.</p>
                    <a href="index.html"
                        class="inline-block bg-success text-white py-3 px-8 rounded-full font-bold text-lg hover:bg-success-hover transition-transform transform hover:scale-105 shadow-xl">Volver
                        al Inicio</a>
                </div>
            </section>

        </main>
    </div>

    <!-- JavaScript Logic -->
    <script>
        // State Management
        const state = {
            currentSection: 'intro',
            progress: 0,
            sections: ['intro', 'investigation', 'structure', 'styling', 'logic', 'optimization', 'deploy']
        };

        // Data for Charts
        const lifecycleData = {
            labels: ['Diagnóstico/Propósito', 'Identidad Visual', 'Construcción (Código)', 'Experiencia/QA', 'Apertura'],
            data: [25, 20, 30, 15, 10]
        };

        const mobileTrendData = {
            years: ['2018', '2019', '2020', '2021', '2022', '2023'],
            desktop: [55, 48, 42, 38, 35, 32],
            mobile: [45, 52, 58, 62, 65, 68]
        };

        const cssFrameworkData = {
            x: ['Tailwind', 'Bootstrap', 'MUI', 'Bulma', 'Foundation'],
            y: [58, 25, 10, 5, 2] // Hypothetical popularity trend
        };

        // Navigation Logic
        function navigateTo(sectionId) {
            // Update UI visibility
            document.querySelectorAll('.content-section').forEach(el => {
                el.classList.add('hidden-section');
                el.classList.remove('animate-fade-in');
            });

            const target = document.getElementById(sectionId);
            target.classList.remove('hidden-section');
            // Trigger reflow for animation
            void target.offsetWidth;
            target.classList.add('animate-fade-in');

            // Scroll to top
            document.getElementById('mainContent').scrollTop = 0;

            // Update State
            state.currentSection = sectionId;
            updateSidebarActiveState(sectionId);
            updateProgress(sectionId);

            // Close mobile menu if open
            const sidebar = document.getElementById('sidebar');
            if (!sidebar.classList.contains('-translate-x-full') && window.innerWidth < 768) {
                sidebar.classList.add('-translate-x-full');
            }
        }

        function updateSidebarActiveState(activeId) {
            document.querySelectorAll('.nav-btn').forEach(btn => {
                const target = btn.dataset.target;
                if (target === activeId) {
                    btn.classList.remove('text-gray-400', 'hover:bg-white/10', 'hover:text-white');
                    btn.classList.add('bg-primary', 'text-white');
                } else {
                    btn.classList.add('text-gray-400', 'hover:bg-white/10', 'hover:text-white');
                    btn.classList.remove('bg-primary', 'text-white');
                }
            });
        }

        function updateProgress(sectionId) {
            const index = state.sections.indexOf(sectionId);
            const percentage = Math.round(((index) / (state.sections.length - 1)) * 100);
            document.getElementById('progressBar').style.width = `${percentage}%`;
            document.getElementById('progressText').innerText = `${percentage}%`;
        }

        // Checklist Logic
        const checklists = {
            investigation: [
                "Definir Misión y Visión del Negocio",
                "Identificar Valores Centrales (La Esencia)",
                "Perfil del Visitante Ideal (Audiencia)",
                "Mapa del Sitio (El Plano)",
                "Selección de Herramientas (El Stack)"
            ],
            optimization: [
                "Minificar CSS y JS",
                "Comprimir imágenes (WebP)",
                "Implementar Lazy Loading",
                "Añadir meta tags SEO (Title, Description)",
                "Configurar archivo robots.txt"
            ]
        };

        function renderChecklists() {
            Object.keys(checklists).forEach(key => {
                const container = document.getElementById(`checklist-${key}`);
                if (container) {
                    container.innerHTML = checklists[key].map((item, i) => `
                        <div class="flex items-center p-3 bg-slate-50 rounded border border-slate-200 cursor-pointer hover:bg-slate-100 transition-colors" onclick="this.classList.toggle('opacity-50'); this.querySelector('.check-circle').classList.toggle('bg-success')">
                            <div class="check-circle w-5 h-5 rounded-full border-2 border-success mr-3 transition-colors"></div>
                            <span class="text-sm text-slate-700 select-none">${item}</span>
                        </div>
                    `).join('');
                }
            });
        }

        // Interaction Demo (Section 4)
        function toggleBoxState() {
            const box = document.getElementById('interactiveBox');
            const text = document.getElementById('boxStateText');
            const span = box.querySelector('span');

            if (box.classList.contains('bg-success')) {
                box.classList.remove('bg-success', 'text-white', 'shadow-lg');
                box.classList.add('bg-slate-100', 'text-slate-500');
                span.innerText = "Click Me";
                text.innerText = "Inactivo";
            } else {
                box.classList.remove('bg-slate-100', 'text-slate-500');
                box.classList.add('bg-success', 'text-white', 'shadow-lg');
                span.innerText = "¡Activo!";
                text.innerText = "Activo (Clase 'bg-success' añadida)";
            }
        }

        // Flexbox Demo (Section 3)
        function setFlexDemo(type) {
            const container = document.getElementById('flexContainer');
            container.className = "bg-slate-100 p-4 rounded border border-slate-300 h-48 flex gap-2 transition-all duration-500 overflow-hidden"; // Reset base classes

            if (type === 'row') container.classList.add('flex-row');
            if (type === 'column') container.classList.add('flex-col');
            if (type === 'wrap') container.classList.add('flex-wrap');
            if (type === 'center') container.classList.add('justify-center', 'items-center');
        }

        // Mobile Menu Toggle
        document.getElementById('mobileMenuBtn').addEventListener('click', () => {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('-translate-x-full');
        });

        // Initialize Charts
        function initCharts() {
            // 1. Lifecycle Pie Chart (Chart.js)
            const ctx1 = document.getElementById('lifecycleChart').getContext('2d');
            new Chart(ctx1, {
                type: 'doughnut',
                data: {
                    labels: lifecycleData.labels,
                    datasets: [{
                        data: lifecycleData.data,
                        backgroundColor: ['#2A3E6B', '#4E72FF', '#BED3FF', '#00C896', '#00A67E'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right'
                        }
                    }
                }
            });

            // 2. Mobile Trend Line Chart (Chart.js)
            const ctx2 = document.getElementById('mobileTrendChart').getContext('2d');
            new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: mobileTrendData.years,
                    datasets: [{
                        label: 'Móvil',
                        data: mobileTrendData.mobile,
                        borderColor: '#00C896',
                        tension: 0.4,
                        fill: true,
                        backgroundColor: 'rgba(0, 200, 150, 0.1)'
                    }, {
                        label: 'Escritorio',
                        data: mobileTrendData.desktop,
                        borderColor: '#94a3b8',
                        tension: 0.4,
                        borderDash: [5, 5]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    }
                }
            });

            // 3. CSS Frameworks (Plotly.js)
            const trace1 = {
                x: cssFrameworkData.x,
                y: cssFrameworkData.y,
                type: 'bar',
                marker: {
                    color: ['#00C896', '#94a3b8', '#cbd5e1', '#e2e8f0', '#f1f5f9']
                }
            };

            const layout = {
                title: false,
                margin: {
                    t: 20,
                    l: 30,
                    r: 20,
                    b: 40
                },
                paper_bgcolor: "rgba(0,0,0,0)",
                plot_bgcolor: "rgba(0,0,0,0)",
                autosize: true
            };

            const config = {
                responsive: true,
                displayModeBar: false
            };
            Plotly.newPlot('cssFrameworkChart', [trace1], layout, config);

            // 4. Core Web Vitals (Chart.js Bar - Thresholds)
            const ctx4 = document.getElementById('vitalsChart').getContext('2d');
            new Chart(ctx4, {
                type: 'bar',
                data: {
                    labels: ['LCP (Carga)', 'FID (Interacción)', 'CLS (Estabilidad)'],
                    datasets: [{
                        label: 'Límite "Bueno" (segundos/score)',
                        data: [2.5, 0.1, 0.1],
                        backgroundColor: ['#00C896', '#00C896', '#00C896']
                    }, {
                        label: 'Límite "Pobre" (segundos/score)',
                        data: [4.0, 0.3, 0.25],
                        backgroundColor: ['#ef4444', '#ef4444', '#ef4444']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Segundos / Puntuación'
                            }
                        }
                    }
                }
            });
        }

        // Boot
        window.addEventListener('DOMContentLoaded', () => {
            renderChecklists();
            initCharts();

            // Handle window resize for Plotly responsiveness
            window.addEventListener('resize', () => {
                Plotly.Plots.resize('cssFrameworkChart');
            });
        });
    </script>
</body>

</html>